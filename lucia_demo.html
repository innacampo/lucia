<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUCIA: Bias-Aware AI Agent (Static Demo)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fef3c7;
            color: #433d32;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        .gradient-text {
            background: linear-gradient(90deg, #d97706, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }
        .btn-primary {
            background: #f97316;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 500;
            transition: background-color 0.3s, transform 0.1s;
        }
        .btn-primary:hover {
            background-color: #ea580c;
            transform: translateY(-2px);
        }
        .btn-primary:active {
            transform: translateY(0);
        }
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            color: #f97316;
            font-weight: bold;
        }
        .loading::after {
            content: '';
            display: inline-block;
            width: 1.5rem;
            height: 1.5rem;
            margin-left: 0.5rem;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #f97316;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-amber-50 antialiased">

<div class="container py-12">
    <!-- Header Section -->
    <header class="text-center mb-16">
        <h1 class="text-5xl font-extrabold mb-4">
            <span class="gradient-text">LUCIA: Bias-Aware AI Agent</span>
        </h1>
        <p class="text-xl text-amber-900 font-medium max-w-2xl mx-auto">
            A demo of our Bias-Aware Symptom Triage and Narrative Analysis Agent.
        </p>
    </header>

    <!-- Main Section: Agent Interface -->
    <section class="mb-16">
        <div class="card p-8">
            <h2 class="text-3xl font-bold mb-4 text-orange-700">Patient Narrative</h2>
            <textarea id="narrative-input" class="w-full h-40 p-4 rounded-lg border-2 border-gray-200 focus:outline-none focus:border-orange-500 transition-colors duration-200" placeholder="Describe your symptoms in your own words...">Over the last few months, I've been experiencing significant joint pain, especially in my knees and hands, along with constant fatigue. I've also noticed unexpected weight gain and my hair seems to be thinning. When I brought this up to my doctor, she just told me it's normal aging and to lose weight and eat less. I feel dismissed and like something else is wrong. The brain fog has been so bad lately that I can't concentrate at work, and my anxiety levels are through the roof.</textarea>
            <div class="mt-4 text-center">
                <button id="analyze-btn" class="btn-primary">Analyze Narrative</button>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section>
        <div id="results-card" class="card hidden">
            <h2 class="text-3xl font-bold mb-4 text-orange-700">Agent-Generated Report</h2>
            <div id="results-content" class="space-y-4">
                <!-- Results will be dynamically inserted here -->
            </div>
        </div>
    </section>
</div>

<footer class="text-center text-gray-400 text-sm mt-12">
    <p>&copy; 2025. All rights reserved. The content and methodology within this document are protected intellectual property.</p>
</footer>

<script>
    document.getElementById('analyze-btn').addEventListener('click', async () => {
        const resultsCard = document.getElementById('results-card');
        const resultsContent = document.getElementById('results-content');
        const analyzeBtn = document.getElementById('analyze-btn');

        // Simulate a loading state and delay
        analyzeBtn.disabled = true;
        analyzeBtn.classList.add('loading');
        analyzeBtn.innerHTML = 'Analyzing...';
        resultsCard.classList.remove('hidden');
        resultsContent.innerHTML = '';

        setTimeout(() => {
            const hardcodedResponse = {
                "symptomMapping": {
                    "Musculoskeletal & Systemic": [
                        "significant joint pain",
                        "pain in knees and hands"
                    ],
                    "Endocrine & Metabolic": [
                        "unexpected weight gain",
                        "constant fatigue"
                    ],
                    "Dermatologic & Hair": [
                        "hair seems to be thinning"
                    ],
                    "Neurological & Psychological": [
                        "brain fog",
                        "can't concentrate",
                        "anxiety levels are through the roof"
                    ]
                },
                "biasAwareness": "The narrative highlights a potential for gender-based diagnostic bias, as the patient's symptoms were dismissed as 'normal aging' and simplified to a single behavioral recommendation ('lose weight and eat less'). This is a common form of bias where complex, systemic symptoms are attributed to lifestyle or psychological factors, particularly in women's health.",
                "structuredAdvocacy": [
                    "Could you please document these symptoms in my medical record, including the specific details of joint pain, fatigue, and brain fog?",
                    "I am concerned these symptoms are connected and may indicate an underlying condition. Could you help me explore possibilities beyond 'normal aging'?",
                    "What specific tests or referrals would you recommend to investigate these clusters of symptoms further, such as hormonal panels or a rheumatology consultation?",
                    "I feel my concerns have been dismissed. Could we work together to find a clear next step in my care plan?"
                ]
            };

            let symptomMappingHtml = '';
            for (const cluster in hardcodedResponse.symptomMapping) {
                symptomMappingHtml += `<h4 class="font-semibold text-gray-800">${cluster}</h4>`;
                symptomMappingHtml += `<ul class="list-disc list-inside mt-2 space-y-1 text-sm text-gray-700">`;
                hardcodedResponse.symptomMapping[cluster].forEach(item => {
                    symptomMappingHtml += `<li>${item}</li>`;
                });
                symptomMappingHtml += `</ul>`;
            }

            let advocacyHtml = '<ul class="list-disc list-inside mt-2 space-y-1 text-sm text-gray-700">';
            hardcodedResponse.structuredAdvocacy.forEach(item => {
                advocacyHtml += `<li>${item}</li>`;
            });
            advocacyHtml += '</ul>';

            resultsContent.innerHTML = `
                <div class="p-4 bg-gray-100 rounded-lg shadow">
                    <h4 class="font-semibold text-gray-800">Symptom Mapping</h4>
                    <div class="mt-2">${symptomMappingHtml}</div>
                </div>
                <div class="p-4 bg-gray-100 rounded-lg shadow">
                    <h4 class="font-semibold text-gray-800">Bias Awareness</h4>
                    <p class="text-sm text-gray-700 mt-2">${hardcodedResponse.biasAwareness}</p>
                </div>
                <div class="p-4 bg-gray-100 rounded-lg shadow">
                    <h4 class="font-semibold text-gray-800">Structured Advocacy</h4>
                    ${advocacyHtml}
                </div>
            `;

            analyzeBtn.disabled = false;
            analyzeBtn.classList.remove('loading');
            analyzeBtn.innerHTML = 'Analyze Narrative';
        }, 1500); // 1.5 second delay to simulate analysis
    });
</script>

</body>
</html>
